"use strict";
var showCoupons = (function() {
  var c = _asyncToGenerator(
    regeneratorRuntime.mark(function f() {
      var g, h, j, k, l, m;
      return regeneratorRuntime.wrap(
        function(o) {
          for (;;)
            switch ((o.prev = o.next)) {
              case 0:
                return (
                  swal({
                    title: "Cargando promociones...",
                    allowOutsideClick: !1,
                    onOpen: function onOpen() {
                      swal.showLoading();
                    }
                  }),
                  (o.prev = 1),
                  (o.next = 4),
                  $.ajax({
                    url: ruta,
                    type: "POST",
                    dataType: "JSON",
                    data: { funcion: "cuponesSucursalQrSimple", idCliente: "2" }
                  })
                );
              case 4:
                for (
                  g = o.sent, h = "<table border='0' width='100%'>", j = 0;
                  j <= g.length - 1;
                  j++
                )
                  "" != g[j].imagen &&
                    "1" == g[j].paraMapa &&
                    ((k = g[j].terminosYCondiciones.replace(
                      /(?:\r\n|\r|\n)/g,
                      "<br />"
                    )),
                    (l = g[j].descripcion.replace(/(?:\r\n|\r|\n)/g, "<br />")),
                    (m = g[j].nombre.replace(/(?:\r\n|\r|\n)/g, "<br />")),
                    "" != g[j].imagen &&
                      "1" == g[j].paraMapa &&
                      ((h += "<tr>"),
                      (h += "<td>"),
                      (h += '<div class="inline imgPromos">'),
                      (h +=
                        "<img onclick='showCouponDetail(\"CP|" +
                        g[j].codigoQR +
                        '", "' +
                        g[j].imagen +
                        '", "' +
                        m +
                        '", "' +
                        l +
                        '", "' +
                        k +
                        '");\' src="' +
                        g[j].imagen +
                        '">'),
                      (h +=
                        '<div class="sombra"><img src="img/imgSombraHorizontal.png" /></div>'),
                      (h += "</div>"),
                      (h += "</td>"),
                      (h += "</tr>")));
                (h += "</table>"),
                  $("#contenedorPromociones").html(h),
                  swal.close(),
                  (o.next = 18);
                break;
              case 12:
                (o.prev = 12),
                  (o.t0 = o["catch"](1)),
                  console.error(o.t0),
                  console.log("funcion: showCoupons()"),
                  console.log("Error: " + o.t0),
                  swal({
                    title: "Error!",
                    text: "Ocurrio un error, por favor intentelo de nuevo",
                    type: "error",
                    allowOutsideClick: !1,
                    confirmButtonText: "Aceptar"
                  });
              case 18:
              case "end":
                return o.stop();
            }
        },
        f,
        this,
        [[1, 12]]
      );
    })
  );
  return function() {
    return c.apply(this, arguments);
  };
})();
function _asyncToGenerator(c) {
  return function() {
    var f = c.apply(this, arguments);
    return new Promise(function(g, h) {
      function j(k, l) {
        try {
          var m = f[k](l),
            n = m.value;
        } catch (o) {
          return void h(o);
        }
        return m.done
          ? void g(n)
          : Promise.resolve(n).then(
              function(o) {
                j("next", o);
              },
              function(o) {
                j("throw", o);
              }
            );
      }
      return j("next");
    });
  };
}
document.addEventListener("offline", checkConnectionOffline, !0);
function checkConnectionOffline() {
  var c = navigator.connection.type;
  c === Connection.NONE &&
    swal({
      title: "!Atenci\xF3n\xA1",
      type: "error",
      confirmButtonText: "Reintentar",
      animation: !1,
      text:
        "No cuentas con conexi\xF3n a internet, para esta aplicaci\xF3n es necesaria la conexi\xF3n, intenta de nuevo",
      showLoaderOnConfirm: !0,
      allowOutsideClick: !1,
      preConfirm: function preConfirm() {
        window.location.replace("index.html");
      }
    });
}
var auth = {},
  confApp = {},
  ruta = "http://admin.lealtadprimero.com.mx/servicio/index.php",
  cliente = "9999";
$(document).ready(function() {
  null !== localStorage.getItem("auth") && refresh();
});
function refresh() {
  var c = JSON.parse(localStorage.getItem("auth"));
  try {
    $("#lblNombreMenu").html(c.nombre),
      $("#lblPuntos").html("Tienes " + c.puntos + " puntos.");
  } catch (f) {
    console.log("funcion: refresh()"),
      console.log("Error: " + f),
      swal({
        title: "Error!",
        text: "Ocurrio un error, por favor intentelo de nuevo",
        type: "error",
        allowOutsideClick: !1,
        confirmButtonText: "Aceptar"
      });
  }
}
function consumedPoints() {
  $.ajax({
    url: ruta,
    type: "POST",
    dataType: "JSON",
    data: {
      funcion: "puntosUsados",
      numeroTarjeta: localStorage.tarjeta,
      idCliente: "2"
    },
    success: function success(c) {
      $("#p_cons").html(c.puntos + "null" ? "0" : c.puntos + " pts.");
    },
    error: function error(c) {
      console.log("funcion: consumedPoints()"),
        console.log("Error: " + c),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
}
function authentication() {
  if (
    ($("#alertaLogin")
      .html("")
      .hide(),
    "" ==
      $("#numeroTarjeta")
        .val()
        .trim())
  )
    $("#alertaLogin")
      .html(
        '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes escribir tu usuario'
      )
      .show();
  else if (
    "" ==
    $("#contrasena")
      .val()
      .trim()
  )
    $("#alertaLogin")
      .html(
        '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes escribir tu contrase\xF1a'
      )
      .show();
  else {
    var c = (function() {
      var f = _asyncToGenerator(
        regeneratorRuntime.mark(function g() {
          var h;
          return regeneratorRuntime.wrap(
            function(k) {
              for (;;)
                switch ((k.prev = k.next)) {
                  case 0:
                    return (
                      swal({
                        title: "Espere un momento...",
                        text: "Validando usuario",
                        allowOutsideClick: !1,
                        onOpen: function onOpen() {
                          swal.showLoading();
                        }
                      }),
                      (k.prev = 1),
                      (k.next = 4),
                      $.ajax({
                        url: ruta,
                        type: "POST",
                        dataType: "JSON",
                        data: {
                          funcion: "ingreso",
                          idCliente: "2",
                          numeroTarjeta: $("#numeroTarjeta")
                            .val()
                            .trim(),
                          password: $("#contrasena")
                            .val()
                            .trim()
                        }
                      })
                    );
                  case 4:
                    (h = k.sent),
                      "" == h.error
                        ? (localStorage.setItem("seLogueo", "1"),
                          localStorage.setItem("tarjeta", h.numeroTarjeta),
                          auth.login(
                            h.nombre,
                            h.email,
                            h.puntos,
                            h.puntosPorPeso,
                            h.codigo
                          ))
                        : ($("#alertaLogin")
                            .html(h.error)
                            .show(),
                          swal.close()),
                      (k.next = 14);
                    break;
                  case 8:
                    (k.prev = 8),
                      (k.t0 = k["catch"](1)),
                      console.error(k.t0),
                      console.log("funcion: authentication()"),
                      console.log("Error: " + k.t0),
                      swal({
                        title: "Error!",
                        text: "Ocurrio un error, por favor intentelo de nuevo",
                        type: "error",
                        allowOutsideClick: !1,
                        confirmButtonText: "Aceptar"
                      });
                  case 14:
                  case "end":
                    return k.stop();
                }
            },
            g,
            this,
            [[1, 8]]
          );
        })
      );
      return function() {
        return f.apply(this, arguments);
      };
    })();
    $("#alertaLogin")
      .html("")
      .hide(),
      c();
  }
}
function changePassword() {
  var c = $("#email")
      .val()
      .trim(),
    f = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
  "" == c
    ? $("#alertaLogin")
        .html(
          '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes escribir tu email'
        )
        .show()
    : f.test(c)
      ? ($("#alertaLogin")
          .html("")
          .hide(),
        $.ajax({
          url: ruta,
          type: "POST",
          dataType: "JSON",
          data: {
            funcion: "recuperarContrasena",
            idCliente: "2",
            email: $("#email")
              .val()
              .trim()
          },
          success: function success(g) {
            swal({
              title: "Espere un momento...",
              text: "Validando email",
              showLoaderOnConfirm: !0,
              allowOutsideClick: !1,
              timer: 1500,
              onOpen: function onOpen() {
                swal.showLoading();
              }
            }).then(function() {
              "" == g.error
                ? swal({
                    title: "!Atenci\xF3n\xA1",
                    type: "info",
                    confirmButtonText: "Ir a p\xE1gina principal",
                    animation: !1,
                    text:
                      "Su contrase\xF1a ha sido a enviada por correo electr\xF3nico.",
                    showLoaderOnConfirm: !0,
                    allowOutsideClick: !1,
                    preConfirm: function preConfirm() {
                      window.location.replace("index.html");
                    }
                  })
                : $("#alertaLogin")
                    .html('<i class="fa fa-warning fa-lg"></i>&nbsp;' + g.error)
                    .show();
            });
          },
          error: function error(g, h, j) {
            console.log("funcion: changePassword()"),
              console.log("Status: " + h),
              console.log("Error: " + j),
              swal({
                title: "Error!",
                text: "Ocurrio un error, por favor intentelo de nuevo",
                type: "error",
                allowOutsideClick: !1,
                confirmButtonText: "Aceptar"
              });
          }
        }))
      : $("#alertaLogin")
          .html('<i class="fa fa-warning fa-lg"></i>&nbsp;Correo Invalido')
          .show();
}
function getLoyaltyPiercings() {
  $.ajax({
    method: "POST",
    url: ruta,
    data: {
      funcion: "damePerforaciones",
      idCliente: "2",
      numeroTarjeta: localStorage.tarjeta
    },
    processData: !0,
    dataType: "json",
    success: function success(c) {
      for (var f = 1; f <= parseInt(c.mensaje); f++)
        $("#slot" + f).attr(
          "src",
          "https://a5f8e58372715ad8da92-946fca8d31c7ab353cb4968b59b10204.ssl.cf1.rackcdn.com/2262536f08131599f960793987440ae4-20170228T180318Z.png"
        );
    },
    error: function error(c) {
      console.log("funcion: ready"),
        console.log("Error: " + c),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
}
function obtenerDatosPersonales() {
  $.ajax({
    url: ruta,
    type: "POST",
    dataType: "JSON",
    data: {
      funcion: "perfil",
      idCliente: "2",
      numeroTarjeta: localStorage.tarjeta
    },
    success: function success(c) {
      "0000-00-00" != c.nacimiento &&
        $("#txtCumple").prop("disabled", "disabled"),
        "" == c.error
          ? ($("#txtTarjeta").html(localStorage.tarjeta),
            $("#txtNombre").html(c.nombre),
            $("#txtSexo").val(c.sexo),
            $("#txtCumple").val(c.nacimiento),
            $("#txtCorreo").val(c.email),
            $("#txtTelefono").val(c.telefonoTrabajo),
            $("#txtEstado").val(c.idEstado),
            $("#txtColonia").val(c.colonia),
            $("#txtMunicipio").val(c.idMunicipio),
            $("#txtCp").val(c.cp),
            $("#txtpass").val(c.password),
            $("#txtTelefono2").val(c.telefonoHogar),
            $.ajax({
              url: ruta,
              type: "POST",
              dataType: "JSON",
              data: {
                funcion: "municipios",
                idCliente: cliente,
                idEstado: c.idEstado
              },
              success: function success(f) {
                for (
                  var g = document.getElementById("txtMunicipio");
                  g.hasChildNodes();

                )
                  g.removeChild(g.firstChild);
                for (var h = 0; h < f.length; h++)
                  f[h].id == c.idMunicipio &&
                    $("#txtMunicipio").append(
                      '<option value="' +
                        f[h].id +
                        '">' +
                        f[h].nombre +
                        "</option>"
                    );
              },
              error: function error() {
                swal({
                  title: "Error!",
                  text: "Ocurrio un error, por favor intentelo de nuevo",
                  type: "error",
                  allowOutsideClick: !1,
                  confirmButtonText: "Aceptar"
                });
              }
            }))
          : swal({
              title: "Error!",
              text: "Ocurrio un error, por favor intentelo de nuevo",
              type: "error",
              allowOutsideClick: !1,
              confirmButtonText: "Aceptar"
            });
    },
    error: function error(c, f, g) {
      console.log("funcion: obtenerDatosPersonales()"),
        console.log("Status: " + f),
        console.log("Error: " + g),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
}
function register() {
  $("#alertaRegistro").hide();
  var c = $("#fecha_dia").val(),
    f = $("#fecha_mes").val(),
    g = $("#fecha_ano").val(),
    h = c + "/" + f + "/" + g,
    j = $("#email")
      .val()
      .trim(),
    k = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
  $("#politicas")[0].checked
    ? "" == $("#nombre").val() ||
      "" == $("#email").val() ||
      "" == $("#sexo").val()
      ? $("#alertaRegistro")
          .html(
            '<i class="fa fa-warning fa-lg"></i>&nbsp;Verifique que todos los campos est\xE9n llenos'
          )
          .show()
      : isDate(h)
        ? k.test(j)
          ? $.ajax({
              method: "POST",
              url: ruta,
              dataType: "JSON",
              data: {
                funcion: "preregistroSinQr",
                idCliente: "2",
                nombre: $("#nombre").val(),
                email: $("#email").val(),
                sexo: $("#sexo").val(),
                fechaNacimiento: h
              },
              success: function success(l) {
                swal({
                  title: "Espere un momento...",
                  text: "Validando email",
                  allowOutsideClick: !1,
                  showLoaderOnConfirm: !0,
                  timer: 1500,
                  onOpen: function onOpen() {
                    swal.showLoading();
                  }
                }).then(function() {
                  "" == l.error
                    ? swal({
                        title: "\xA1Muchas gracias por registrarte!",
                        text:
                          "En breve recibir\xE1s un mail para activar tu cuenta y contrase\xF1a.",
                        imageUrl: "img/logo_background.png",
                        imageWidth: 200,
                        imageHeight: 200,
                        imageAlt: "Logo",
                        animation: !1,
                        confirmButtonText: "Ir a p\xE1gina principal",
                        showLoaderOnConfirm: !0,
                        allowOutsideClick: !1,
                        preConfirm: function preConfirm() {
                          window.location.replace("index.html");
                        }
                      })
                    : $("#alertaRegistro")
                        .html(
                          '<i class="fa fa-warning fa-lg"></i>&nbsp;' + l.error
                        )
                        .show();
                });
              },
              error: function error(l, m, n) {
                console.log("funcion: register()"),
                  console.log("Status: " + m),
                  console.log("Error: " + n),
                  swal({
                    title: "Error!",
                    text: "Ocurrio un error, por favor intentelo de nuevo",
                    type: "error",
                    allowOutsideClick: !1,
                    confirmButtonText: "Aceptar"
                  });
              }
            })
          : $("#alertaRegistro")
              .html('<i class="fa fa-warning fa-lg"></i>&nbsp;Correo Invalido')
              .show()
        : $("#alertaRegistro")
            .html('<i class="fa fa-warning fa-lg"></i>&nbsp;Fecha no valida')
            .show()
    : $("#alertaRegistro")
        .html(
          '<i class="fa fa-warning fa-lg"></i>&nbsp;Antes tienes que estar de acuerdo con las pol\xEDticas de privacidad.'
        )
        .show();
}
function saveData() {
  $("#alertaRegistro").hide();
  var c = $("#txtCorreo")
      .val()
      .trim(),
    f = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
  $("#politicas").is(":checked")
    ? "" == $("#txtSexo").val()
      ? $("#alertaRegistro")
          .html(
            '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes seleccionar sexo'
          )
          .show()
      : "" == $("#txtCorreo").val()
        ? $("#alertaRegistro")
            .html(
              '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes ingresar el correo'
            )
            .show()
        : "" == $("#txtTelefono").val()
          ? $("#alertaRegistro")
              .html(
                '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes ingresar n\xFAmero de celular'
              )
              .show()
          : "" == $("#txtpass").val()
            ? $("#alertaRegistro")
                .html(
                  '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes ingresar la contrase\xF1a'
                )
                .show()
            : "" != $("#txtpass2").val() &&
              $("#txtpass").val() != $("#txtpass2").val()
              ? $("#alertaRegistro")
                  .html(
                    '<i class="fa fa-warning fa-lg"></i>&nbsp;La contrase\xF1a no coincide'
                  )
                  .show()
              : f.test(c)
                ? $.ajax({
                    url: ruta,
                    type: "POST",
                    dataType: "JSON",
                    data: {
                      funcion: "actualiza",
                      idCliente: "2",
                      password: $("#txtpass").val(),
                      numeroTarjeta: $("#txtTarjeta")
                        .text()
                        .trim(),
                      nombre: $("#txtNombre")
                        .text()
                        .trim(),
                      sexo: $("#txtSexo").val(),
                      email: $("#txtCorreo").val(),
                      colonia: $("#txtColonia").val(),
                      idEstado: $("#txtEstado").val(),
                      idMunicipio: $("#txtMunicipio").val(),
                      cp: $("#txtCp").val(),
                      nacimiento: $("#txtCumple").val(),
                      telefonoTrabajo: $("#txtTelefono").val(),
                      telefonoHogar: $("#txtTelefono2").val()
                    },
                    success: function success(g) {
                      swal({
                        title: "Espere un momento...",
                        text: "Actualizando informaci\xF3n",
                        showLoaderOnConfirm: !0,
                        allowOutsideClick: !1,
                        timer: 1500,
                        onOpen: function onOpen() {
                          swal.showLoading();
                        }
                      }).then(function() {
                        "" == g.error
                          ? $.ajax({
                              url: ruta,
                              type: "POST",
                              dataType: "JSON",
                              data: {
                                funcion: "ingreso",
                                idCliente: "2",
                                numeroTarjeta: $("#txtTarjeta")
                                  .text()
                                  .trim(),
                                password: $("#txtpass")
                                  .val()
                                  .trim()
                              },
                              success: function success(h) {
                                "" == h.error
                                  ? swal({
                                      title: "\xA1Informaci\xF3n guardada!",
                                      imageUrl: "img/logo_background.png",
                                      imageWidth: 200,
                                      imageHeight: 200,
                                      imageAlt: "Logo",
                                      animation: !1,
                                      confirmButtonText:
                                        "Ir a p\xE1gina principal",
                                      showLoaderOnConfirm: !0,
                                      allowOutsideClick: !1,
                                      preConfirm: function preConfirm() {
                                        auth.login(g.nombre, g.email, g.puntos),
                                          window.location.replace("home.html");
                                      }
                                    })
                                  : $("#alertaRegistro")
                                      .html(
                                        '<i class="fa fa-warning fa-lg"></i>&nbsp;Error: ' +
                                          h.error
                                      )
                                      .show();
                              }
                            })
                          : $("#alertaRegistro")
                              .html(
                                '<i class="fa fa-warning fa-lg"></i>&nbsp;' +
                                  g.error
                              )
                              .show();
                      });
                    },
                    error: function error(g, h, j) {
                      console.log("funcion: saveData()"),
                        console.log("Status: " + h),
                        console.log("Error: " + j),
                        swal({
                          title: "Error!",
                          text:
                            "Ocurrio un error, por favor intentelo de nuevo",
                          type: "error",
                          allowOutsideClick: !1,
                          confirmButtonText: "Aceptar"
                        });
                    }
                  })
                : $("#alertaRegistro")
                    .html(
                      '<i class="fa fa-warning fa-lg"></i>&nbsp;Correo Invalido'
                    )
                    .show()
    : $("#alertaRegistro")
        .html(
          '<i class="fa fa-warning fa-lg"></i>&nbsp;Debes aceptar las politicas de privacidad para continuar'
        )
        .show();
}
function estados() {
  $.ajax({
    url: ruta,
    type: "POST",
    dataType: "JSON",
    data: { funcion: "estados", idCliente: "2" },
    success: function success(c) {
      for (var f = 0; f < c.length; f++)
        $("#txtEstado").append(
          '<option value="' + c[f].id + '">' + c[f].nombre + "</option>"
        );
    },
    error: function error(c, f, g) {
      console.log("funcion: estados()"),
        console.log("Status: " + f),
        console.log("Error: " + g),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
}
function municipios() {
  var c = $("#txtEstado").val();
  $.ajax({
    url: ruta,
    type: "POST",
    dataType: "JSON",
    data: { funcion: "municipios", idCliente: "2", idEstado: c },
    success: function success(f) {
      for (var h = document.getElementById("txtMunicipio"); h.hasChildNodes(); )
        h.removeChild(h.firstChild);
      for (var g = 0; g < f.length; g++)
        $("#txtMunicipio").append(
          '<option value="' + f[g].id + '">' + f[g].nombre + "</option>"
        );
    },
    error: function error(f, g, h) {
      console.log("funcion: municipios()"),
        console.log("Status: " + g),
        console.log("Error: " + h),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
}
(auth.login = function(c, f, g, h, j) {
  try {
    localStorage.setItem(
      "auth",
      JSON.stringify({ nombre: c, email: f, puntos: g, regla: h, codigo: j })
    ),
      localStorage.setItem("cliente", f),
      (location.href = "home.html");
  } catch (k) {
    console.log("funcion: login()"),
      console.log("Error: " + k),
      swal({
        title: "Error!",
        text: "Ocurrio un error, por favor intentelo de nuevo",
        type: "error",
        allowOutsideClick: !1,
        confirmButtonText: "Aceptar"
      });
  }
}),
  (auth.isLogged = function() {
    return null != localStorage.getItem("auth");
  }),
  (auth.deleteToken = function() {
    try {
      localStorage.removeItem("auth"), (location.href = "index.html");
    } catch (c) {
      console.log("funcion: deleteToken()"),
        console.log("Error: " + c),
        swal({
          title: "Error!",
          text: "Ocurrio un error, por favor intentelo de nuevo",
          type: "error",
          allowOutsideClick: !1,
          confirmButtonText: "Aceptar"
        });
    }
  });
function showCouponDetail(c, f, g, h, j) {
  (localStorage.cupon_tem = c),
    (localStorage.cupon_img = f),
    (localStorage.cupon_nom = g),
    (localStorage.cupon_txt = h),
    (localStorage.cupon_ter = j),
    (window.location = "detalle.html");
}
function soloNumeros(c) {
  var f = window.Event ? c.which : c.keyCode;
  return 48 <= f && 57 >= f;
}
function isDate(c) {
  var f = c;
  if ("" == f) return !1;
  var g = /^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,
    h = f.match(g);
  if (null == h) return !1;
  var j = h[1],
    k = h[3],
    l = h[5];
  if (1 > k || 12 < k) return !1;
  if (1 > j || 31 < j) return !1;
  if ((4 == k || 6 == k || 9 == k || 11 == k) && 31 == j) return !1;
  if (2 == k) {
    if (29 < j || (29 == j && !(0 == l % 4 && (0 != l % 100 || 0 == l % 400))))
      return !1;
  }
  return !0;
}
function esEmail(c) {
  var f = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return f.test(c);
}
function home() {
  window.location = "home.html";
}
function index() {
  window.location = "index.html";
}
function salir() {
  localStorage.clear(), auth.deleteToken();
}
function politicas() {
  swal({
    title: "Aviso de privacidad",
    type: "info",
    html:
      '<p class="text-justify">De conformidad con lo establecido en la Ley Federal de Protecci\xF3n de Datos personales de losparticulares WIS MASTER MEXICO S.A. DE C.V; pone a su disposici\xF3n el siguiente aviso de privacidad:<br><br>WIS MASTER MEXICO S.A. DE C.V; es responsable del uso y protecci\xF3n de sus datos personales, en estesentido y atendiendo las obligaciones legales establecidas en la Ley Federal de Protecci\xF3n de Datospersonales en posesi\xF3n de los particulares, a trav\xE9s de este instrumento se informa a los titulares delos datos, la informaci\xF3n que de ellos se recaba y los fines que se le dar\xE1n a dicha informaci\xF3n.<br><br>Adem\xE1s de lo anterior, informamos a Usted que WIS MASTER MEXICO S.A. DE C.V; tiene su domicilioubicado en: Av. Mariano Escobedo 366, quinto piso, Colonia Anzures, C\xF3digo Postal 11590, Hidalgo en Delegaci\xF3n Miguel la Ciudad de M\xE9xico.<br><br>Los datos personales que recabamos de usted ser\xE1n utilizados para las siguientes finalidades las cuales son necesarias para concretar nuestra relaci\xF3n con Usted, as\xED como atender los servicios y/o pedidos que solicite:<br><br>1.- Campa\xF1as de Publicidad.<br>2.- Campa\xF1as de Fidelidad.<br>3.- Informaci\xF3n y prestaci\xF3n de servicios.<br>4.- Actualizaci\xF3n de la base de datos.<br>5.- Evaluaci\xF3n de nuestros est\xE1ndares de calidad en el servicio que les brindamos.<br>6.- Cualquier finalidad an\xE1loga o compatible con las anteriores.<br>7.- Compartirlos con proveedores de bienes y servicios que se consideren de su inter\xE9s y beneficio.<br><br>Para llevar a cabo las finalidades descritas en el presente aviso de privacidad, utilizaremoslos siguientes datos personales:<br><br>1.- Nombre.<br>2.- Sexo.<br>3.- Fecha de nacimiento.<br>4.- Correo electr\xF3nico.<br>5.- Tel\xE9fono Fijo.<br>6.- Tel\xE9fono celular.<br>7.- Colonia.<br>8.- C\xF3digo Postal.<br>9.- Estado.<br>10.- Municipio.<br><br>Usted tiene en todo momento el derecho a conocer que datos personales tenemos de Usted, para qu\xE9 los utilizamos y las condiciones del uso que les damos (acceso). Asimismo, es su derecho solicitar la correcci\xF3n de su informaci\xF3n personal en caso de que este desactualizada, sea inexacta o incompleta (rectificaci\xF3n); de igual manera tiene derecho a que su informaci\xF3n se elimine de nuestros registros o bases de datos cuando considere que la misma no est\xE1 siendo utilizada adecuadamente (cancelaci\xF3n); as\xED como tambi\xE9n a oponerse al uso de sus datos personales para fines espec\xEDficos (oposici\xF3n). Estos derechos se conocen como derechos ARCO.<br><br>Para el ejercicio de cualquiera de los derechos ARCO se deber\xE1 presentar las solicitudes respectivas a trav\xE9s del contacto al e-mail: <a href="mailto:minoni@lealtadprimero.com.mx">minoni@lealtadprimero.com.mx.</a><br><br>Lo anterior tambi\xE9n servir\xE1 para conocer el procedimiento y requisitos para el ejercicio de los derechos ARCO.<br><br>En todo caso la respuesta a la solicitud se dar\xE1 a trav\xE9s del siguiente correo electr\xF3nico: <a href="mailto:minoni@lealtadprimero.com.mx">minoni@lealtadprimero.com.mx</a>.<br><br>Los datos del contacto de la persona o departamento de datos personales, que est\xE1 a cargo de dar tr\xE1mite a las solicitudes de derechos ARCO son los siguientes:<br><br>A)\tNOMBRE DEL RESPONSABLE;<br>B)\tDOMICILIO;<br>C)\tTELEFONO;<br><br>En cualquier momento; Usted puede revocar su consentimiento para el uso de sus datos personales. Del Mismo modo, Usted puede revocar su consentimiento para el uso de sus datos personales. Del mismo modo, Usted puede revocar el consentimiento, que, en su caso, nos haya otorgado para el tratamiento de sus datos personales.<br><br>Asimismo, Usted deber\xE1 considerar que, para ciertos fines, la revocaci\xF3n de su consentimiento implicara que no podamos seguir prestando el servicio que nos solicit\xF3, o la conclusi\xF3n de su relaci\xF3n con nosotros.<br><br>Para revocar el consentimiento que Usted otorga en este acto o para limitar su divulgaci\xF3n, se deber\xE1 presentar la solicitud respectiva a trav\xE9s de a trav\xE9s del contacto al e-mail:<a href="mailto:minoni@lealtadprimero.com.mx">minoni@lealtadprimero.com.mx.</a><br><br>Del mismo modo, podr\xE1 solicitar la informaci\xF3n para conocer el procedimiento y requisitos para la revocaci\xF3n del consentimiento, as\xED como limitar el uso y divulgaci\xF3n de su informaci\xF3n personal.<br><br>En cualquier caso, la respuesta a las peticiones se dar\xE1 a conocer en un plazo de 5 d\xEDas h\xE1biles, y se comunicaran de la siguiente forma: a trav\xE9s del contacto al e-mail:<a href="mailto:minoni@lealtadprimero.com.mx">minoni@lealtadprimero.com.mx.</a><br><br>Este aviso de privacidad podr\xE1 ser modificado por WIS MASTER MEXICO S.A. DE C.V; dichas modificaciones ser\xE1n oportunamente informados a trav\xE9s de correo electr\xF3nico, tel\xE9fono, o cualquier otro medio de comunicaci\xF3n que WIS MASTER MEXICO S.A. DE C.V; determine para tal efecto.</p>',
    confirmButtonText: "Aceptar",
    allowOutsideClick: !1,
    confirmButtonColor: "#F57E20",
    animation: !1
  });
}
function terminos() {
  swal({
    title: "\xBFDeseas canjear esta promoci\xF3n?",
    html: localStorage.getItem("cupon_ter"),
    type: "info",
    allowOutsideClick: !1,
    showCancelButton: !0,
    cancelButtonColor: "#d33 !important",
    confirmButtonText: "Si",
    cancelButtonText: "No",
    animation: !1
  }).then(function(c) {
    c.value &&
      swal({
        title: "\xA1Operaci\xF3n exitosa!",
        text:
          "Puedes hacer valida esta promoci\xF3n presentando este mensaje a tu mesero.",
        type: "info",
        confirmButtonText: "Ir a p\xE1gina principal",
        animation: !1,
        showLoaderOnConfirm: !0,
        allowOutsideClick: !1,
        preConfirm: function preConfirm() {
          window.location.replace("index.html");
        }
      });
  });
}
function terminosYCondiciones() {
  swal({
    title: "Minoni Fan",
    type: "info",
    html:
      '<p class="text-justify"><br/><b>\xBFC\xF3mo funciona Mi Minoni Fan ID?</b><br/><br/>1.\tDescarga nuestra App Minoni M\xE9xico disponible para dispositivos Android \u2122 o iPhone\xAE<br/>2.\tReg\xEDstrate con todos los datos y comienza a disfrutar de los beneficios de nuestro nivel Green<br/>3.\tPodr\xE1s acumular puntos en cada compra, donde 1 punto = 1 peso y formar parte de nuestros tres niveles<br/><br/><b>\u2022\tNivel Green</b>, acumula el 5% de tus compras en cada *<br/><b>\u2022\tNivel Gold</b>, al obtener 20 visitas y 300 puntos subir\xE1s a este nivel, podr\xE1s acumular el 7.5% en puntos en cada*<br/><b>\u2022\tNivel Platinum</b>, al obtener 25 visitas y 300 puntos, podr\xE1s acumular el 10% en puntos en cada*<br/><br/><label style="font-size: 10px;">*Nota: Aplican restricciones en consumos con promociones y/o descuentos, revisar en T\xE9rminos y Condiciones</label><br/><br/><b>\xBFC\xF3mo registro mis consumos de Minoni?</b><br/><br/>Visita cualquiera de nuestras sucursales Minoni del pa\xEDs y p\xEDdele a tu experto en alitas que lea tu c\xF3digo QR o digite tu Minoni ID en tu cuenta y ya estar\xE1s acumulando puntos y visitas Minoni Fan<br/><br/><label style="font-size: 10px;">*Nota: recuerda que solo puedes registrar tus consumos al momento de tu visita</label><br/><br/><b>T\xE9rminos y condiciones</b><br/><br/>Al expresar su consentimiento positivo al programa de recompensas denominado "MINONI FAN ID" reconoce que el uso de las recompensas correspondientes, se deber\xE1n regir por los siguientes t\xE9rminos y condiciones siguientes o los que le substituyan y que sean publicados en la p\xE1gina  <a href="www.pizzasminoni.com">http://pizzasminoni.com/</a> los cuales podr\xE1n ser modificados en cualquier momento, por lo que su uso en cualquier tiempo implica su aceptaci\xF3n de acuerdo con los mismos.<br/><br/>\u2022\tLas redenciones y acumulaci\xF3n de puntos Minoni no aplican en consumos con promociones y/o descuentos<br/>\u2022\tLa redenci\xF3n y acumulaci\xF3n de puntos Minoni solo aplica una cuenta por mesa y/o consumo<br/>\u2022\tLos puntos Minoni Fan no puede ser cambiados y/o transferidos entre usuarios, no tienen ning\xFAn tipo de valor monetario <br/>\u2022\tLos puntos del programa Minoni Fan ser\xE1n vigentes durante un periodo de 12 meses a partir de la fecha de afiliaci\xF3n, al t\xE9rmino de este periodo ser\xE1n reiniciados<br/></p>',
    confirmButtonText: "Aceptar",
    allowOutsideClick: !1,
    confirmButtonColor: "#F57E20",
    animation: !1
  });
}
function myPosition() {
  return (
    swal({
      title: "Cargando mi ubicaci\xF3n...",
      allowOutsideClick: !1,
      onOpen: function onOpen() {
        swal.showLoading();
      }
    }),
    new Promise(function(c, f) {
      navigator.geolocation.getCurrentPosition(
        function(g) {
          var h = new google.maps.LatLng(g.coords.latitude, g.coords.longitude);
          localStorage.setItem("collect_latitude", g.coords.latitude),
            localStorage.setItem("collect_longitude", g.coords.longitude),
            setDataCountryAndState(h)
              .then(function() {
                swal.close(), c();
              })
              .catch(function() {
                f();
              });
        },
        function() {
          f();
        },
        { maximumAge: 3e3, timeout: 5e3, enableHighAccuracy: !0 }
      );
    })
  );
}
function setDataCountryAndState(c) {
  return new Promise(function(f, g) {
    var h = "",
      j = "",
      k = "",
      l = "",
      m = new google.maps.Geocoder();
    m.geocode({ latLng: c }, function(n, o) {
      if (o == google.maps.GeocoderStatus.OK) {
        if (n[0]) {
          for (var p = 0; p < n[0].address_components.length; p++)
            "administrative_area_level_1" ==
              n[0].address_components[p].types[0] &&
              (h = n[0].address_components[p]),
              ("administrative_area_level_3" ==
                n[0].address_components[p].types[0] ||
                "locality" == n[0].address_components[p].types[0]) &&
                (l = n[0].address_components[p]),
              "country" == n[0].address_components[p].types[0] &&
                (j = n[0].address_components[p]),
              "postal_code" == n[0].address_components[p].types[0] &&
                (k = n[0].address_components[p]);
          $("#collect_country").val(j.long_name),
            $("#collect_state").val(h.long_name),
            $("#collect_province").val(l.long_name),
            null === localStorage.getItem("collect_where") &&
              $("#collect_postal").val(k.long_name),
            localStorage.setItem("collect_country", j.long_name),
            localStorage.setItem("collect_state", h.long_name),
            localStorage.setItem("collect_province", l.long_name),
            null === localStorage.getItem("collect_where") &&
              (localStorage.setItem("collect_postal", k.long_name),
              getBranchsByCp(k.long_name),
              getCityByCoverage(k.long_name)),
            fillCalendar();
        } else return g();
        f();
      } else g();
    });
  });
}
if ("undefined" == typeof helper) var helper = {};
helper.arr = {
  multisort: function multisort(c, f, g) {
    function h(j, k, l, m, n) {
      var o = "DESC" == m[n] ? 1 : 0,
        p = !isNaN(+j[l[n]] - +k[l[n]]),
        q = p ? +j[l[n]] : j[l[n]].toLowerCase(),
        r = p ? +k[l[n]] : k[l[n]].toLowerCase();
      return q < r
        ? 0 == o ? -1 : 1
        : q == r
          ? l.length - 1 > n ? h(j, k, l, m, n + 1) : 0
          : 0 == o ? 1 : -1;
    }
    if ("undefined" == typeof f)
      for (f = [], x = 0; x < c[0].length; x++) f.push(x);
    if ("undefined" == typeof g)
      for (g = [], x = 0; x < c[0].length; x++) g.push("ASC");
    return c.sort(function(j, k) {
      return h(j, k, f, g, 0);
    });
  }
};
function daysInMonth(c, f) {
  return new Date(f, c, 0).getDate();
}
function info(c) {
  swal({
    title: "\xA1Atenci\xF3n!",
    type: "info",
    html: c,
    confirmButtonText: "Aceptar",
    allowOutsideClick: !1,
    confirmButtonColor: "#F57E20"
  });
}
function spanishDate(c) {
  return (
    ["Domingo", "Lunes", "Martes", "Miercoles", "Jueves", "Viernes", "Sabado"][
      c.getDay()
    ] +
    " " +
    c.getDate() +
    " de " +
    [
      "Enero",
      "Febrero",
      "Marzo",
      "Abril",
      "Mayo",
      "Junio",
      "Julio",
      "Agosto",
      "Septiembre",
      "Octubre",
      "Noviembre",
      "Diciembre"
    ][c.getMonth()] +
    " de " +
    c.getFullYear()
  );
}
